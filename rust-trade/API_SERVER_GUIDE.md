# üåê HTTP API Server - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

## ‚úÖ HTTP API —Å–µ—Ä–≤–µ—Ä —Å–æ–∑–¥–∞–Ω

–í –ø—Ä–æ–µ–∫—Ç–µ —Ç–µ–ø–µ—Ä—å –µ—Å—Ç—å HTTP API —Å–µ—Ä–≤–µ—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –±–µ–∑ Tauri.

## üöÄ –ó–∞–ø—É—Å–∫ API —Å–µ—Ä–≤–µ—Ä–∞

```bash
cd trading-core
export DATABASE_URL="postgresql://cryptotrader:cryptotrader@localhost/trading_core"
cargo run api
```

–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ `http://localhost:8080` (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ `config/development.toml`).

## üì° –î–æ—Å—Ç—É–ø–Ω—ã–µ endpoints

### 1. –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π

```
GET /api/strategies
```

**–û—Ç–≤–µ—Ç:**

```json
[
  {
    "id": "sma",
    "name": "Simple Moving Average",
    "description": "..."
  },
  {
    "id": "dip_buy",
    "name": "Dip Buy Strategy (Low Frequency)",
    "description": "..."
  },
  {
    "id": "ema_btc_week",
    "name": "EMA BTC Week Strategy",
    "description": "..."
  }
]
```

### 2. –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –¥–∞–Ω–Ω—ã—Ö

```
GET /api/data/info
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "total_records": 1001,
  "symbols_count": 1,
  "earliest_time": "2025-11-15T15:38:55Z",
  "latest_time": "2025-11-15T15:46:21Z",
  "symbol_info": [
    {
      "symbol": "ETHUSDT",
      "records_count": 1001,
      "earliest_time": "2025-11-15T15:38:55Z",
      "latest_time": "2025-11-15T15:46:21Z",
      "min_price": "3500.00",
      "max_price": "3600.00"
    }
  ]
}
```

### 3. –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –±—ç–∫—Ç–µ—Å—Ç–∞

```
GET /api/backtest/validate?symbol=ETHUSDT&data_count=10000
```

**–û—Ç–≤–µ—Ç:**

```json
true
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞

–í `config/development.toml`:

```toml
[server]
host = "0.0.0.0"
port = 8080
```

### CORS

CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º –Ω–∞ `localhost:3000`.

## üåê –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç HTTP API, –µ—Å–ª–∏ Tauri –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω:

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ API —Å–µ—Ä–≤–µ—Ä:**

   ```bash
   cd trading-core
   cargo run api
   ```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**

   ```bash
   cd frontend
   npm run dev
   ```

3. **–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:**

   ```
   http://localhost:3000/backtest
   ```

–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è –∫ API –Ω–∞ `http://localhost:8080` –∏ –∑–∞–≥—Ä—É–∑–∏—Ç:

- ‚úÖ –°–ø–∏—Å–æ–∫ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π (–≤–∫–ª—é—á–∞—è EMA BTC Week)
- ‚úÖ –°–ø–∏—Å–æ–∫ —Å–∏–º–≤–æ–ª–æ–≤ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (ETHUSDT)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

## üìù –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ú–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å URL API —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```bash
# –í frontend/.env.local
NEXT_PUBLIC_API_URL=http://localhost:8080
```

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

- API —Å–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω **–¥–æ** –æ—Ç–∫—Ä—ã—Ç–∏—è –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
- –î–ª—è –∑–∞–ø—É—Å–∫–∞ –±—ç–∫—Ç–µ—Å—Ç–æ–≤ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–∫–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è Tauri (–∏–ª–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CLI)

---

**–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ –±–∞–∑—ã! üéâ**
