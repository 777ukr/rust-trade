# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç - Crypto Trader

## –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã

### 1. –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- **PostgreSQL** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Rust** 1.70+ - –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä
- **Cargo** - –º–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤

### 2. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
# –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û: PostgreSQL connection string
DATABASE_URL=postgresql://postgres:password@localhost:5432/cryptotrader

# –û–ü–¶–ò–û–ù–ê–õ–¨–ù–û: Gate.io API –∫–ª—é—á–∏ (–¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö)
GATE_API_KEY=your_api_key_here
GATE_API_SECRET=your_api_secret_here

# –û–ü–¶–ò–û–ù–ê–õ–¨–ù–û: –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: info)
RUST_LOG=info
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PostgreSQL

```bash
# –°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
createdb cryptotrader

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Å—Ö–µ–º—É
psql cryptotrader < database/schema.sql

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
psql cryptotrader -c "SELECT 1;"
```

## –ó–∞–ø—É—Å–∫

### 1. –ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö

```bash
# –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ BTC, ETH, SOL –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 180 –¥–Ω–µ–π
cargo run --bin load_historical_data --features database,gate_exec

# –ò–ª–∏ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —É—Ä–æ–≤–Ω—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
RUST_LOG=debug cargo run --bin load_historical_data --features database,gate_exec
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: API –∫–ª—é—á–∏ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã - —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—É–±–ª–∏—á–Ω—ã–µ endpoints Gate.io

### 2. –ó–∞–ø—É—Å–∫ Investor Portal

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤–µ–±-–ø–æ—Ä—Ç–∞–ª
cargo run --bin investor_portal --features dashboard,database,gate_exec

# –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: http://localhost:8080
```

### 3. –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
cargo test --features gate_exec

# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã API
cargo test --features dashboard --test integration_tests
```

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ RUST_LOG:

```bash
# –¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏
RUST_LOG=error cargo run --bin investor_portal

# –û—Ç–ª–∞–¥–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º–æ–¥—É–ª—è
RUST_LOG=rust_test::backtest=debug cargo run --bin investor_portal

# –ü–æ–ª–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞
RUST_LOG=debug cargo run --bin investor_portal
```

### –î–æ—Å—Ç—É–ø–Ω—ã–µ —É—Ä–æ–≤–Ω–∏:
- `error` - —Ç–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏
- `warn` - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- `info` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- `debug` - –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- `trace` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è

## –ß—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å

### –î–ª—è –ø–æ–ª–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω—É–∂–Ω—ã:

1. ‚úÖ **DATABASE_URL** - —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL
2. ‚ö†Ô∏è **GATE_API_KEY** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º
3. ‚ö†Ô∏è **GATE_API_SECRET** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º

### –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å Gate.io API –∫–ª—é—á–∏:

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [Gate.io](https://www.gate.io/)
2. API Management ‚Üí Create API Key
3. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∞: **Read Only** (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö)
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á–∏ –≤ `.env`

**–ë–µ–∑ API –∫–ª—é—á–µ–π**:
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç (–ø—É–±–ª–∏—á–Ω—ã–µ endpoints)
- ‚úÖ –ë—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Investor Portal —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚ùå Live —Ç–æ—Ä–≥–æ–≤–ª—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (–Ω—É–∂–Ω—ã Trade –ø—Ä–∞–≤–∞)

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ bin/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ investor_portal.rs      # –í–µ–±-–ø–æ—Ä—Ç–∞–ª
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ load_historical_data.rs # –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ backtest/                   # –ë—ç–∫—Ç–µ—Å—Ç–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ strategy/                   # –¢–æ—Ä–≥–æ–≤—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ database/                   # PostgreSQL —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ utils/
‚îÇ       ‚îî‚îÄ‚îÄ logging.rs              # –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îî‚îÄ‚îÄ integration_tests.rs        # API —Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îî‚îÄ‚îÄ schema.sql                  # SQL —Å—Ö–µ–º–∞
‚îî‚îÄ‚îÄ templates/
    ‚îî‚îÄ‚îÄ investor_portal.html        # –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ë–î
```bash
cargo run --bin investor_portal --features dashboard,database,gate_exec
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–æ –∫ PostgreSQL
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
```bash
cargo run --bin load_historical_data --features database,gate_exec
# –î–æ–ª–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è BTC_USDT, ETH_USDT, SOL_USDT
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ API
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å portal
cargo run --bin investor_portal --features dashboard,database,gate_exec

# –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å endpoints
curl http://localhost:8080/api/strategies
curl http://localhost:8080/api/leverages
curl http://localhost:8080/api/symbols
```

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ `.env` —Å `DATABASE_URL`
2. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç–µ `load_historical_data` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
3. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç–µ `investor_portal` –¥–ª—è –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
4. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±—ç–∫—Ç–µ—Å—Ç—ã —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
5. ‚úÖ –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `docs/API_SETUP.md` - –î–µ—Ç–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–µ–π
- `docs/HFT_BACKTEST_SPEC.md` - –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –±—ç–∫—Ç–µ—Å—Ç–µ—Ä–∞
- `docs/API_ENDPOINTS.md` - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
