# üöÄ Crypto Trader - Professional HFT Backtesting Platform

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥–∞ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω—ã—Ö —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π HFT (High-Frequency Trading) —É—Ä–æ–≤–Ω—è —Ç–æ—á–Ω–æ—Å—Ç–∏.

## ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üéØ HFT Backtest Engine
- **Tick-by-Tick Simulation**: –°–∏–º—É–ª—è—Ü–∏—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–∫–∞ —Å –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç—å—é
- **Full Order Book (L2/L3)**: –ü–æ–ª–Ω–∞—è —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Å—Ç–∞–∫–∞–Ω–∞ —Å –æ—á–µ—Ä–µ–¥—è–º–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è
- **Latency Modeling**: –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏ —Å–µ—Ç–∏ (10-20 –º—Å)
- **Multiple Fill Models**: FIFO, ProRata, TimePriority
- **Monte Carlo Simulation**: –ú–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω—ã–µ –ø—Ä–æ–≥–æ–Ω—ã –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- **MoonBot Compatibility**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ .bin —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞–Ω–Ω—ã—Ö

### üìä –§–∏–ª—å—Ç—Ä—ã –∏ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã —Ä—ã–Ω–∫–æ–≤
- –î–µ–ª—å—Ç–∞ —Ñ–∏–ª—å—Ç—Ä—ã (1–º, 3–º, 5–º, 15–º, 30–º, 1—á, 24—á)
- –û–±—ä–µ–º–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã –∏ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å
- –§–∏–ª—å—Ç—Ä —Å—Ç–∞–≤–∫–∏ —Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏—è
- –¢–æ–ø-N —Ä—ã–Ω–∫–æ–≤ –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—é

### ‚≠ê –°–∏—Å—Ç–µ–º–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç —Ä–µ–π—Ç–∏–Ω–≥–∞ (0-10) –ø–æ 4 –∫—Ä–∏—Ç–µ—Ä–∏—è–º:
  - Profitability (P&L, profit factor, win rate)
  - Stability (Sharpe ratio)
  - Risk (max drawdown)
  - Fill Rate
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏—Å–≤–æ–µ–Ω–∏–µ –∑–≤–µ–∑–¥ (0-5)

### üéÆ –¢–æ—Ä–≥–æ–≤—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- **Channel Split**: –ö–∞–Ω–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —Å –¥—Ä–æ–±–ª–µ–Ω–∏–µ–º –æ—Ä–¥–µ—Ä–æ–≤
- **Market Making**: –ú–∞—Ä–∫–µ—Ç-–º–µ–π–∫–∏–Ω–≥
- **HFT**: High-frequency trading
- **Long/Short Trailing**: –¢—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø –Ω–∞ –ª–æ–Ω–≥/—à–æ—Ä—Ç
- **EMA Reversal**: EMA —Ä–∞–∑–≤–æ—Ä–æ—Ç—ã
- **MShot**: MoonBot MShot (–±–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)
- **MStrike, Hook, Spread**: –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

### üåê SaaS Platform
- JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏ —á–µ—Ä–µ–∑ UI
- –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
- –°–∏—Å—Ç–µ–º–∞ –∑–∞—è–≤–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤
- API key management

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Rust 1.70+
- PostgreSQL 14+
- Tokio runtime

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <repo-url>
cd cryptotrader.com

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
cargo build --features gate_exec,dashboard,database

# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ë–î
createdb cryptotrader
psql cryptotrader < database/schema.sql
psql cryptotrader < database/saas_schema.sql

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
export DATABASE_URL="postgresql://user:password@localhost:5432/cryptotrader"
export JWT_SECRET="your-secret-key-change-in-production"
```

### –ó–∞–ø—É—Å–∫

```bash
# Investor Portal (–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
cargo run --bin investor_portal --features dashboard,database

# –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
# http://localhost:8080
```

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **[HFT Backtest Spec](docs/HFT_BACKTEST_SPEC.md)** - –ü–æ–ª–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –±—ç–∫—Ç–µ—Å—Ç–µ—Ä–∞
- **[API Endpoints](docs/API_ENDPOINTS.md)** - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ API
- **[Checklist](docs/CHECKLIST.md)** - –ß–µ–∫–ª–∏—Å—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **[Architecture Review](docs/ARCHITECTURE_REVIEW.md)** - –û–±–∑–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
src/
‚îú‚îÄ‚îÄ backtest/           # HFT –±—ç–∫—Ç–µ—Å—Ç–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ engine.rs      # –û—Å–Ω–æ–≤–Ω–æ–π –¥–≤–∏–∂–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ orderbook.rs    # L2/L3 —Å—Ç–∞–∫–∞–Ω
‚îÇ   ‚îú‚îÄ‚îÄ filters.rs      # –§–∏–ª—å—Ç—Ä—ã —Ä—ã–Ω–∫–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ metrics.rs      # –ú–µ—Ç—Ä–∏–∫–∏ –∏ —Ä–µ–π—Ç–∏–Ω–≥
‚îú‚îÄ‚îÄ strategy/           # –¢–æ—Ä–≥–æ–≤—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ moon_strategies/ # MoonBot —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
‚îú‚îÄ‚îÄ database/          # –†–∞–±–æ—Ç–∞ —Å –ë–î
‚îú‚îÄ‚îÄ auth/              # JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îî‚îÄ‚îÄ saas/              # SaaS —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
```

## üß™ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```rust
use rust_test::backtest::*;

// –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±—ç–∫—Ç–µ—Å—Ç–∞
let settings = BacktestSettings {
    tick_interval_ms: 2,
    latency_ms_range: (10, 20),
    use_orderbook_l3: true,
    fill_model: FillModel::FIFO,
    ..Default::default()
};

// –°–æ–∑–¥–∞–µ–º –¥–≤–∏–∂–æ–∫
let mut engine = BacktestEngine::new(settings);

// –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ
let mut replay = ReplayEngine::new(Default::default());
replay.load_bin_file("data/BTC_2024_01.bin")?;

for stream in replay.take_streams() {
    engine.add_stream(stream);
}

// –ó–∞–ø—É—Å–∫–∞–µ–º –±—ç–∫—Ç–µ—Å—Ç
let result = engine.run()?;

println!("Rating: {:.2}/10 ‚≠ê: {}", 
    result.rating.overall_rating, result.rating.stars);
```

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –±—ç–∫—Ç–µ—Å—Ç–∞

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –±—ç–∫—Ç–µ—Å—Ç–∞ –ø–æ–ª—É—á–∞–µ—Ç–µ:
- Total P&L
- Win Rate, Profit Factor
- Max Drawdown, Sharpe Ratio
- Fill Rate
- –°—Ä–µ–¥–Ω—è—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–¥–µ–ª–æ–∫
- **–†–µ–π—Ç–∏–Ω–≥ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏** (0-10) –∏ **–∑–≤–µ–∑–¥—ã** (0-5)

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- JWT —Ç–æ–∫–µ–Ω—ã –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- Argon2/Bcrypt –¥–ª—è —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π
- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ API –∫–ª—é—á–µ–π
- Rate limiting (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)

## üéØ Roadmap

- [x] HFT Backtest Engine
- [x] Order Book (L2/L3)
- [x] –°–∏—Å—Ç–µ–º–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞
- [ ] –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è MoonBot —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
- [ ] WebSocket —Å—Ç—Ä–∏–º–∏–Ω–≥
- [ ] –ò–ò –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- [ ] Live trading integration

## ü§ù Contributing

–°–º. `.cursorrules` –¥–ª—è guidelines –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ.

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

[–£–∫–∞–∑–∞—Ç—å –ª–∏—Ü–µ–Ω–∑–∏—é]

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- MoonBot –∑–∞ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ –∏ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
- Rust community –∑–∞ –æ—Ç–ª–∏—á–Ω—ã–µ crates (Tokio, Axum, SQLx)
